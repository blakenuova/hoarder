[gd_scene load_steps=30 format=3 uid="uid://cykrwqdrmjupw"]

[ext_resource type="Texture2D" uid="uid://crenflbt7bjbw" path="res://Assets/HDRIS/MY HDRI NEW v2.jpg" id="1_4efs8"]
[ext_resource type="Texture2D" uid="uid://ywie1b1bnk8y" path="res://Assets/Prototyping-Testing/Grids/Dark/texture_08.png" id="2_4kcdj"]
[ext_resource type="Material" uid="uid://coy81jirltavp" path="res://Assets/Materials/wall_test_mat.tres" id="3_33pvy"]
[ext_resource type="Texture2D" uid="uid://cypb58cjds4qs" path="res://Assets/Prototyping-Testing/Grids/Orange/texture_01.png" id="4_1q7xv"]
[ext_resource type="PackedScene" uid="uid://tamy6fexi1ir" path="res://Scenes/Interactables/door.tscn" id="5_vngmv"]
[ext_resource type="PackedScene" uid="uid://couv4onmpyk7p" path="res://Scenes/Interactables/light_switch.tscn" id="6_38ep1"]
[ext_resource type="PackedScene" uid="uid://dawkm5qux46eg" path="res://Scenes/Player/player.tscn" id="7_kkibr"]
[ext_resource type="Script" uid="uid://c272rm5bpkjaa" path="res://Scripts/Interactable/Interactable.gd" id="8_t43sd"]
[ext_resource type="PackedScene" uid="uid://pa7qbuhfjv2p" path="res://Scenes/Inventory/Items/flashlight.tscn" id="9_x0h0q"]
[ext_resource type="PackedScene" uid="uid://s1wgwcxpxije" path="res://Scenes/Inventory/Items/scrap.tscn" id="10_42djl"]
[ext_resource type="PackedScene" uid="uid://8pvex1nnyd40" path="res://Scenes/Inventory/Items/MedkitPickup.tscn" id="11_m1h85"]
[ext_resource type="PackedScene" uid="uid://b5fdwt0meq1if" path="res://Scenes/Enemies/enemy.tscn" id="12_v56u2"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_erxk3"]
panorama = ExtResource("1_4efs8")

[sub_resource type="Sky" id="Sky_hg7jh"]
sky_material = SubResource("PanoramaSkyMaterial_erxk3")

[sub_resource type="Environment" id="Environment_kptrm"]
background_mode = 2
sky = SubResource("Sky_hg7jh")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_eihp4"]
emission_enabled = true
emission = Color(1, 1, 1, 1)
emission_energy_multiplier = 29.25

[sub_resource type="SphereMesh" id="SphereMesh_erxk3"]
material = SubResource("StandardMaterial3D_eihp4")
radius = 80.5
height = 150.0

[sub_resource type="NavigationMesh" id="NavigationMesh_sdjbu"]
vertices = PackedVector3Array(-499, 0.45, -24, -26.25, 0.45, -23.75, -26.25, 0.45, -25.25, -25.25, 0.45, -26.25, -23.75, 0.45, -26.25, -24, 0.45, -499, -499, 0.45, -499, 24, 0.45, -26.25, 24.25, 0.45, -499, 26.25, 0.45, -25.5, 26.25, 0.45, -24, 499, 0.45, -24.25, 25.5, 0.45, -26.25, 499, 0.45, -499, -24.25, 10.45, -24.25, -24.5, 10.45, 11.75, -24.25, 10.45, 24.25, 24.25, 10.45, 24.25, 24.25, 10.45, -24.25, 26.25, 0.45, 24, 499, 0.45, 24.25, -499, 0.45, 24.25, -26.25, 0.45, 24, -0.5, 0.45, 10.5, -0.25, 0.45, -23.75, -23.75, 0.45, -23.75, -23.75, 0.45, 10.5, 3.25, 0.45, 23.75, 3.5, 0.45, 24.25, 4.25, 0.45, 23.75, 1.75, 0.45, 11.25, 1.75, 0.45, 23.75, 1, 0.45, 10.5, 23.75, 0.45, 23.75, 23.75, 0.45, -23.75, -23.75, 0.45, 13.75, -23.75, 0.45, 23.75, -1, 0.45, 23.75, -1, 0.45, 13.75, 4.25, 0.45, 26.25, 3.5, 0.45, 25.75, 3.25, 0.45, 26.25, 23.5, 0.45, 38.5, 24.75, 0.45, 37.75, 24.75, 0.45, 26.25, -26.25, 0.45, 25.5, 23.5, 0.45, 54.25, -25.5, 0.45, 26.25, 24.25, 0.45, 55, -499, 0.45, 499, 25, 0.45, 499, 25, 0.45, 55, 25.5, 0.45, 26.25, 25.75, 0.45, 37.75, 26.25, 0.45, 25.5, 26.5, 0.45, 38.5, 499, 0.45, 40.5, 26.5, 0.45, 40.5, 26.5, 0.45, 52.25, 499, 0.45, 52.25, 25.75, 0.45, 55, 26.5, 0.45, 54.25, 499, 0.45, 499)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(2, 0, 3), PackedInt32Array(3, 0, 6), PackedInt32Array(3, 6, 5), PackedInt32Array(4, 5, 7), PackedInt32Array(7, 5, 8), PackedInt32Array(11, 10, 9), PackedInt32Array(12, 7, 8), PackedInt32Array(12, 8, 9), PackedInt32Array(9, 8, 13), PackedInt32Array(9, 13, 11), PackedInt32Array(15, 14, 16), PackedInt32Array(16, 14, 18), PackedInt32Array(16, 18, 17), PackedInt32Array(10, 11, 19), PackedInt32Array(19, 11, 20), PackedInt32Array(22, 21, 1), PackedInt32Array(1, 21, 0), PackedInt32Array(26, 25, 23), PackedInt32Array(23, 25, 24), PackedInt32Array(28, 27, 29), PackedInt32Array(29, 27, 30), PackedInt32Array(27, 31, 30), PackedInt32Array(32, 23, 24), PackedInt32Array(33, 29, 30), PackedInt32Array(30, 32, 33), PackedInt32Array(33, 32, 24), PackedInt32Array(33, 24, 34), PackedInt32Array(38, 37, 35), PackedInt32Array(35, 37, 36), PackedInt32Array(41, 40, 39), PackedInt32Array(43, 42, 44), PackedInt32Array(44, 42, 39), PackedInt32Array(21, 22, 45), PackedInt32Array(41, 39, 42), PackedInt32Array(42, 46, 41), PackedInt32Array(41, 46, 47), PackedInt32Array(21, 45, 47), PackedInt32Array(46, 48, 47), PackedInt32Array(47, 48, 50), PackedInt32Array(47, 50, 21), PackedInt32Array(21, 50, 49), PackedInt32Array(48, 51, 50), PackedInt32Array(44, 52, 43), PackedInt32Array(43, 52, 53), PackedInt32Array(54, 19, 55), PackedInt32Array(55, 19, 20), PackedInt32Array(55, 20, 56), PackedInt32Array(52, 54, 53), PackedInt32Array(53, 54, 55), PackedInt32Array(56, 57, 55), PackedInt32Array(57, 56, 58), PackedInt32Array(58, 56, 59), PackedInt32Array(50, 51, 60), PackedInt32Array(60, 61, 50), PackedInt32Array(50, 61, 62), PackedInt32Array(62, 61, 59), PackedInt32Array(61, 58, 59)]
agent_radius = 0.8

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hg7jh"]
albedo_texture = ExtResource("2_4kcdj")
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_kptrm"]
material = SubResource("StandardMaterial3D_hg7jh")
size = Vector3(1000, 0.1, 1000)

[sub_resource type="BoxMesh" id="BoxMesh_2cs7a"]
material = ExtResource("3_33pvy")
size = Vector3(50, 0.1, 50)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_kptrm"]
albedo_texture = ExtResource("4_1q7xv")
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_olhn8"]
material = SubResource("StandardMaterial3D_kptrm")
size = Vector3(50, 10, 0.1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2cs7a"]
transparency = 1
albedo_color = Color(0.6627451, 1, 1, 0.15294118)
metallic = 1.0
metallic_specular = 1.0
roughness = 0.6

[sub_resource type="BoxMesh" id="BoxMesh_wsbbe"]
material = SubResource("StandardMaterial3D_2cs7a")
size = Vector3(17, 5, 0.1)

[sub_resource type="BoxMesh" id="BoxMesh_eq3jn"]

[sub_resource type="BoxShape3D" id="BoxShape3D_r6koe"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_nv2pg"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ugwsj"]

[node name="Safe_zone" type="Node3D"]

[node name="Environment" type="Node" parent="."]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Environment"]
transform = Transform3D(-0.9977069, 0.06043378, -0.0304768, 0.050576087, 0.9649086, 0.25766966, 0.044979297, 0.25553754, -0.9657525, 0, 61, 0)
light_color = Color(0.7009877, 0.80382687, 0.8863666, 1)
light_energy = 0.09
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="Environment"]
environment = SubResource("Environment_kptrm")

[node name="Moon" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 610.8998, -756)
mesh = SubResource("SphereMesh_erxk3")

[node name="Environment_Mesh" type="Node3D" parent="."]

[node name="Light_switch" parent="Environment_Mesh" node_paths=PackedStringArray("light_node") instance=ExtResource("6_38ep1")]
transform = Transform3D(0.65, 0, 0, 0, 0.65, 0, 0, 0, 0.65, -10.578944, 1.466499, 12.511489)
light_node = NodePath("../../Lights/OmniLight3D2")

[node name="Door" parent="Environment_Mesh" instance=ExtResource("5_vngmv")]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, -11.5, 1.2502782, 11.8)

[node name="Door2" parent="Environment_Mesh" instance=ExtResource("5_vngmv")]
transform = Transform3D(1.8515737, 0, 0, 0, 1.3982909, 0, 0, 0, 1.2, 4.703535, 1.4502783, 24.994955)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="Environment_Mesh"]
navigation_mesh = SubResource("NavigationMesh_sdjbu")

[node name="floor" type="CSGMesh3D" parent="Environment_Mesh/NavigationRegion3D"]
use_collision = true
mesh = SubResource("BoxMesh_kptrm")

[node name="floor2" type="CSGMesh3D" parent="Environment_Mesh/NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 10, 0)
use_collision = true
mesh = SubResource("BoxMesh_2cs7a")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="Environment_Mesh/NavigationRegion3D"]
use_collision = true

[node name="Wall" type="CSGMesh3D" parent="Environment_Mesh/NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, -25)
use_collision = true
mesh = SubResource("BoxMesh_olhn8")

[node name="Wall2" type="CSGMesh3D" parent="Environment_Mesh/NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 25)
use_collision = true
mesh = SubResource("BoxMesh_olhn8")

[node name="Wall3" type="CSGMesh3D" parent="Environment_Mesh/NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, 25, 5, 0)
use_collision = true
mesh = SubResource("BoxMesh_olhn8")

[node name="Wall7" type="CSGMesh3D" parent="Environment_Mesh/NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-1.31134215e-08, 0, -9.565916, 0, 1, 0, 0.30000013, 0, -4.1813948e-07, 25, 5, 46.331406)
use_collision = true
mesh = SubResource("BoxMesh_olhn8")

[node name="Wall4" type="CSGMesh3D" parent="Environment_Mesh/NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -25, 5, 0)
use_collision = true
mesh = SubResource("BoxMesh_olhn8")

[node name="subtraction" type="CSGBox3D" parent="Environment_Mesh/NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.020965576, 4.0889482, -25.039534)
operation = 2
size = Vector3(17, 4.998828, 1)

[node name="Glass" type="CSGMesh3D" parent="Environment_Mesh/NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.0999994, -25)
use_collision = true
mesh = SubResource("BoxMesh_wsbbe")

[node name="Wall6" type="CSGBox3D" parent="Environment_Mesh/NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.5, 5, 12)
size = Vector3(26, 10, 1)
material = ExtResource("3_33pvy")

[node name="Doorway" type="CSGBox3D" parent="Environment_Mesh/NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.087818, 1.2245117, 12)
operation = 2
size = Vector3(1.21958, 2.4490235, 2.6328125)

[node name="Doorway2" type="CSGBox3D" parent="Environment_Mesh/NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.7863162, 1.4005859, 25.29478)
operation = 2
size = Vector3(1.8783814, 2.8011718, 2.6328125)

[node name="Wall5" type="CSGBox3D" parent="Environment_Mesh/NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.35000002, 5, 18.3)
size = Vector3(0.3, 10, 13.6)
material = ExtResource("3_33pvy")

[node name="Lights" type="Node" parent="."]

[node name="OmniLight3D" type="OmniLight3D" parent="Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 9.7, 0)
light_energy = 5.0
omni_range = 36.736015

[node name="OmniLight3D2" type="OmniLight3D" parent="Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 8.7, 19.700521)
light_energy = 2.0
omni_range = 36.736015

[node name="Player" parent="." instance=ExtResource("7_kkibr")]
transform = Transform3D(-0.99416035, 0, 0.10791267, 0, 1, 0, -0.10791267, 0, -0.99416035, 0, 3.1262672, 33.520893)

[node name="Test" type="Node" parent="."]

[node name="Crouch_Height_Space" type="CSGBox3D" parent="Test"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23.4, 1.7000003, -4.7493896)
use_collision = true
size = Vector3(3, 0.2, 10.498779)

[node name="Prone_Height_Space" type="CSGBox3D" parent="Test"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23.4, 1.4000002, 2.5943604)
use_collision = true
size = Vector3(3, 0.2, 11)

[node name="Interact_test_box" type="StaticBody3D" parent="Test"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 0.5492626, 0)
script = ExtResource("8_t43sd")
prompt_message = "Test Box"

[node name="MeshInstance3D" type="MeshInstance3D" parent="Test/Interact_test_box"]
mesh = SubResource("BoxMesh_eq3jn")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Test/Interact_test_box"]
shape = SubResource("BoxShape3D_r6koe")

[node name="Flashlight" parent="Test" instance=ExtResource("9_x0h0q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.0636086, 1.3158844, 0)

[node name="Scrap" parent="Test" instance=ExtResource("10_42djl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.04581, 0.7565228, 0)

[node name="Scrap2" parent="Test" instance=ExtResource("10_42djl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.04581, 0.7565228, -1.1359916)

[node name="Scrap3" parent="Test" instance=ExtResource("10_42djl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.04581, 0.7565228, -2.039886)

[node name="Scrap4" parent="Test" instance=ExtResource("10_42djl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.053772, 0.7565228, 0)

[node name="Scrap5" parent="Test" instance=ExtResource("10_42djl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.053772, 0.7565228, -1.1359916)

[node name="Scrap10" parent="Test" instance=ExtResource("10_42djl")]
transform = Transform3D(0.42623726, 0, -0.9046114, 0, 1, 0, 0.9046114, 0, 0.42623726, -15.778688, 0.96831834, -2.075149)

[node name="Scrap11" parent="Test" instance=ExtResource("10_42djl")]
transform = Transform3D(0.42623726, 0, -0.9046114, 0, 1, 0, 0.9046114, 0, 0.42623726, -15.468919, 0.96831834, -0.30826414)

[node name="Scrap12" parent="Test" instance=ExtResource("10_42djl")]
transform = Transform3D(0.42623726, 0, -0.9046114, 0, 1, 0, 0.9046114, 0, 0.42623726, -16.173517, 0.96831834, -0.79246604)

[node name="Scrap6" parent="Test" instance=ExtResource("10_42djl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.053772, 0.7565228, -2.039886)

[node name="Scrap7" parent="Test" instance=ExtResource("10_42djl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.13123, 0.7565228, 0)

[node name="Scrap8" parent="Test" instance=ExtResource("10_42djl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.13123, 0.7565228, -1.1359916)

[node name="Scrap9" parent="Test" instance=ExtResource("10_42djl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.13123, 0.7565228, -2.039886)

[node name="Flashlight" parent="." instance=ExtResource("11_m1h85")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.564266, 1.5622956, 0)

[node name="Enemy_Test" type="Node" parent="."]

[node name="DummyTest1" type="StaticBody3D" parent="Enemy_Test" groups=["Enemy"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12, 1, 0)

[node name="Mesh" type="MeshInstance3D" parent="Enemy_Test/DummyTest1"]
mesh = SubResource("CapsuleMesh_nv2pg")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Enemy_Test/DummyTest1"]
shape = SubResource("CapsuleShape3D_ugwsj")

[node name="Enemy" parent="." instance=ExtResource("12_v56u2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.73331, 0.5161035, 37)
