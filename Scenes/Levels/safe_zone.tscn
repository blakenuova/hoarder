[gd_scene load_steps=25 format=3 uid="uid://yt416ssqoqfs"]

[ext_resource type="Texture2D" uid="uid://crenflbt7bjbw" path="res://Assets/HDRIS/MY HDRI NEW v2.jpg" id="1_eihp4"]
[ext_resource type="Texture2D" uid="uid://ywie1b1bnk8y" path="res://Assets/Prototyping-Testing/Grids/Dark/texture_08.png" id="2_erxk3"]
[ext_resource type="Material" uid="uid://coy81jirltavp" path="res://Assets/Materials/wall_test_mat.tres" id="3_eq3jn"]
[ext_resource type="Texture2D" uid="uid://cypb58cjds4qs" path="res://Assets/Prototyping-Testing/Grids/Orange/texture_01.png" id="3_hg7jh"]
[ext_resource type="PackedScene" uid="uid://dawkm5qux46eg" path="res://Scenes/Player/player.tscn" id="5_olhn8"]
[ext_resource type="PackedScene" uid="uid://tamy6fexi1ir" path="res://Scenes/Interactables/door.tscn" id="5_wsbbe"]
[ext_resource type="Script" uid="uid://c272rm5bpkjaa" path="res://Scripts/Interactable/Interactable.gd" id="6_2cs7a"]
[ext_resource type="PackedScene" uid="uid://couv4onmpyk7p" path="res://Scenes/Interactables/light_switch.tscn" id="6_eq3jn"]
[ext_resource type="PackedScene" uid="uid://pa7qbuhfjv2p" path="res://Scenes/Inventory/Items/flashlight.tscn" id="9_r6koe"]
[ext_resource type="PackedScene" uid="uid://s1wgwcxpxije" path="res://Scenes/Inventory/Items/scrap.tscn" id="10_lesm6"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_erxk3"]
panorama = ExtResource("1_eihp4")

[sub_resource type="Sky" id="Sky_hg7jh"]
sky_material = SubResource("PanoramaSkyMaterial_erxk3")

[sub_resource type="Environment" id="Environment_kptrm"]
background_mode = 2
sky = SubResource("Sky_hg7jh")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_eihp4"]
emission_enabled = true
emission = Color(1, 1, 1, 1)
emission_energy_multiplier = 29.25

[sub_resource type="SphereMesh" id="SphereMesh_erxk3"]
material = SubResource("StandardMaterial3D_eihp4")
radius = 80.5
height = 150.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hg7jh"]
albedo_texture = ExtResource("2_erxk3")
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_kptrm"]
material = SubResource("StandardMaterial3D_hg7jh")
size = Vector3(200, 0.1, 200)

[sub_resource type="BoxMesh" id="BoxMesh_2cs7a"]
material = ExtResource("3_eq3jn")
size = Vector3(50, 0.1, 50)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_kptrm"]
albedo_texture = ExtResource("3_hg7jh")
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_olhn8"]
material = SubResource("StandardMaterial3D_kptrm")
size = Vector3(50, 10, 0.1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2cs7a"]
transparency = 1
albedo_color = Color(0.6627451, 1, 1, 0.15294118)
metallic = 1.0
metallic_specular = 1.0
roughness = 0.6

[sub_resource type="BoxMesh" id="BoxMesh_wsbbe"]
material = SubResource("StandardMaterial3D_2cs7a")
size = Vector3(17, 5, 0.1)

[sub_resource type="BoxMesh" id="BoxMesh_eq3jn"]

[sub_resource type="BoxShape3D" id="BoxShape3D_r6koe"]

[node name="Safe_zone" type="Node3D"]

[node name="Environment" type="Node" parent="."]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Environment"]
transform = Transform3D(-0.9977069, 0.06043378, -0.0304768, 0.050576087, 0.9649086, 0.25766966, 0.044979297, 0.25553754, -0.9657525, 0, 61, 0)
light_color = Color(0.7009877, 0.80382687, 0.8863666, 1)
light_energy = 0.09
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="Environment"]
environment = SubResource("Environment_kptrm")

[node name="Moon" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 610.8998, -756)
mesh = SubResource("SphereMesh_erxk3")

[node name="Environment_Mesh" type="Node3D" parent="."]

[node name="floor" type="CSGMesh3D" parent="Environment_Mesh"]
use_collision = true
mesh = SubResource("BoxMesh_kptrm")

[node name="floor2" type="CSGMesh3D" parent="Environment_Mesh"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 10, 0)
use_collision = true
mesh = SubResource("BoxMesh_2cs7a")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="Environment_Mesh"]
use_collision = true

[node name="Wall" type="CSGMesh3D" parent="Environment_Mesh/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, -25)
use_collision = true
mesh = SubResource("BoxMesh_olhn8")

[node name="Wall2" type="CSGMesh3D" parent="Environment_Mesh/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 25)
use_collision = true
mesh = SubResource("BoxMesh_olhn8")

[node name="Wall3" type="CSGMesh3D" parent="Environment_Mesh/CSGCombiner3D"]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, 25, 5, 0)
use_collision = true
mesh = SubResource("BoxMesh_olhn8")

[node name="Wall4" type="CSGMesh3D" parent="Environment_Mesh/CSGCombiner3D"]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -25, 5, 0)
use_collision = true
mesh = SubResource("BoxMesh_olhn8")

[node name="subtraction" type="CSGBox3D" parent="Environment_Mesh/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.020965576, 4.0889482, -25.039534)
operation = 2
size = Vector3(17, 4.998828, 1)

[node name="Glass" type="CSGMesh3D" parent="Environment_Mesh/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.0999994, -25)
use_collision = true
mesh = SubResource("BoxMesh_wsbbe")

[node name="Wall6" type="CSGBox3D" parent="Environment_Mesh/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.5, 5, 12)
size = Vector3(26, 10, 1)
material = ExtResource("3_eq3jn")

[node name="Doorway" type="CSGBox3D" parent="Environment_Mesh/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.087818, 1.2245117, 12)
operation = 2
size = Vector3(1.21958, 2.4490235, 2.6328125)

[node name="Wall5" type="CSGBox3D" parent="Environment_Mesh/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.35000002, 5, 18.3)
size = Vector3(0.3, 10, 13.6)
material = ExtResource("3_eq3jn")

[node name="Door" parent="Environment_Mesh" instance=ExtResource("5_wsbbe")]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, -11.5, 1.2502782, 11.8)

[node name="Light_switch" parent="Environment_Mesh" node_paths=PackedStringArray("light_node") instance=ExtResource("6_eq3jn")]
transform = Transform3D(0.65, 0, 0, 0, 0.65, 0, 0, 0, 0.65, -10.578944, 1.466499, 12.511489)
light_node = NodePath("../../Lights/OmniLight3D2")

[node name="Lights" type="Node" parent="."]

[node name="OmniLight3D" type="OmniLight3D" parent="Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 9.7, 0)
light_energy = 5.0
omni_range = 36.736015

[node name="OmniLight3D2" type="OmniLight3D" parent="Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 8.7, 19.700521)
light_energy = 2.0
omni_range = 36.736015

[node name="Player" parent="." instance=ExtResource("5_olhn8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.1262672, 0)

[node name="Test" type="Node" parent="."]

[node name="Crouch_Height_Space" type="CSGBox3D" parent="Test"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23.4, 1.7000003, -4.7493896)
use_collision = true
size = Vector3(3, 0.2, 10.498779)

[node name="Prone_Height_Space" type="CSGBox3D" parent="Test"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23.4, 1.4000002, 2.5943604)
use_collision = true
size = Vector3(3, 0.2, 11)

[node name="Interact_test_box" type="StaticBody3D" parent="Test"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 0.5492626, 0)
script = ExtResource("6_2cs7a")
prompt_message = "Test Box"

[node name="MeshInstance3D" type="MeshInstance3D" parent="Test/Interact_test_box"]
mesh = SubResource("BoxMesh_eq3jn")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Test/Interact_test_box"]
shape = SubResource("BoxShape3D_r6koe")

[node name="Flashlight" parent="Test" instance=ExtResource("9_r6koe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.0636086, 1.3158844, 0)

[node name="Scrap" parent="Test" instance=ExtResource("10_lesm6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.04581, 0.7565228, 0)

[node name="Scrap2" parent="Test" instance=ExtResource("10_lesm6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.04581, 0.7565228, -1.1359916)

[node name="Scrap3" parent="Test" instance=ExtResource("10_lesm6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.04581, 0.7565228, -2.039886)

[node name="Scrap4" parent="Test" instance=ExtResource("10_lesm6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.053772, 0.7565228, 0)

[node name="Scrap5" parent="Test" instance=ExtResource("10_lesm6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.053772, 0.7565228, -1.1359916)

[node name="Scrap10" parent="Test" instance=ExtResource("10_lesm6")]
transform = Transform3D(0.42623726, 0, -0.9046114, 0, 1, 0, 0.9046114, 0, 0.42623726, -15.778688, 0.96831834, -2.075149)

[node name="Scrap11" parent="Test" instance=ExtResource("10_lesm6")]
transform = Transform3D(0.42623726, 0, -0.9046114, 0, 1, 0, 0.9046114, 0, 0.42623726, -15.468919, 0.96831834, -0.30826414)

[node name="Scrap12" parent="Test" instance=ExtResource("10_lesm6")]
transform = Transform3D(0.42623726, 0, -0.9046114, 0, 1, 0, 0.9046114, 0, 0.42623726, -16.173517, 0.96831834, -0.79246604)

[node name="Scrap6" parent="Test" instance=ExtResource("10_lesm6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.053772, 0.7565228, -2.039886)

[node name="Scrap7" parent="Test" instance=ExtResource("10_lesm6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.13123, 0.7565228, 0)

[node name="Scrap8" parent="Test" instance=ExtResource("10_lesm6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.13123, 0.7565228, -1.1359916)

[node name="Scrap9" parent="Test" instance=ExtResource("10_lesm6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.13123, 0.7565228, -2.039886)
